{% load static %}
<!DOCTYPE html>
<html lang = 'en'>
	{% include "groovesweeperapp/bootstrap.html" %}
	{% include "groovesweeperapp/javascript.html" %}
	<head>
		<link rel="stylesheet" href="{% static 'results.css' %}">
		<title>Results Page</title>
	</head>

	<body>
		{% include "groovesweeperapp/navBar.html" %}
		<h1>Results Page</h1>
		<table>
			{% for obj in results %}
				<form method = "post">
					{% csrf_token %}
					<tr class = "result-row" onclick="goToLyrics({{obj.index}})">
						<td class = "result-box" >{{obj.name}}</td>
						<td class = "result-box">{{obj.artist}}</td>
						<td class = "result-box">{{obj.num_explicit}}</td>
				  </tr>
				</form>

			{% endfor %}
		</table>
	</body>
</html>

<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous">
</script>

<script>
	function goToLyrics(song_idx) {
		$.ajax({
			type:"POST",
			headers:{
        "X-CSRFToken": '{{ csrf_token }}'
			},
			data:{index:song_idx}
		})
	}
</script>
